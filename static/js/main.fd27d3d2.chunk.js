(this["webpackJsonpshex-codegen-demo"]=this["webpackJsonpshex-codegen-demo"]||[]).push([[0],{1031:function(e,n){},1096:function(e,n){},1098:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=1098},1104:function(e,n,t){"use strict";t.r(n);var a,r,o,c,s=t(0),i=t.n(s),l=t(227),d=t.n(l),u=(t(557),t(26)),f=t(147),m=t(79),h=t(236),j=t(237),b=t.n(j),w=t(4),p=t.n(w),v=t(51),O=t(548),g=t.n(O),x=t(332);!function(e){e.SchemPerson="http://schema.org/Person",e.FoafPerson="http://xmlns.com/foaf/0.1/Person"}(a||(a={})),function(e){e.Dom="http://www.w3.org/2006/vcard/ns#Dom",e.Home="http://www.w3.org/2006/vcard/ns#Home",e.Isdn="http://www.w3.org/2006/vcard/ns#ISDN",e.Internet="http://www.w3.org/2006/vcard/ns#Internet",e.Intl="http://www.w3.org/2006/vcard/ns#Intl",e.Label="http://www.w3.org/2006/vcard/ns#Label",e.Parcel="http://www.w3.org/2006/vcard/ns#Parcel",e.Postal="http://www.w3.org/2006/vcard/ns#Postal",e.Pref="http://www.w3.org/2006/vcard/ns#Pref",e.Work="http://www.w3.org/2006/vcard/ns#Work",e.X400="http://www.w3.org/2006/vcard/ns#X400"}(r||(r={})),function(e){e.type="rdf:type",e.hasEmail="vcard:hasEmail",e.name="foaf:name"}(o||(o={})),function(e){e.type="rdf:type",e.value="vcard:value"}(c||(c={}));var P='\nPREFIX srs: <https://shaperepo.com/schemas/solidProfile#>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX schem: <http://schema.org/>\nPREFIX vcard: <http://www.w3.org/2006/vcard/ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nsrs:SolidProfileShape EXTRA a {\n  a [ schem:Person ]\n    // rdfs:comment  "Defines the node as a Person" ;\n  a [ foaf:Person ]\n    // rdfs:comment  "Defines the node as a Person" ;\n  vcard:hasEmail @srs:EmailShape *\n    // rdfs:comment  "The person\'s email." ;\n  foaf:name xsd:string ?\n    // rdfs:comment  "An alternate way to define a person\'s name" ;\n}\n\nsrs:EmailShape EXTRA a {\n  a [\n    vcard:Dom\n    vcard:Home\n    vcard:ISDN\n    vcard:Internet\n    vcard:Intl\n    vcard:Label\n    vcard:Parcel\n    vcard:Postal\n    vcard:Pref\n    vcard:Work\n    vcard:X400\n  ] ?\n    // rdfs:comment  "The type of email." ;\n  vcard:value IRI\n    // rdfs:comment  "The value of an email as a mailto link (Example <mailto:jane@example.com>)" ;\n}\n',I=new x.Shape({id:"https://shaperepo.com/schemas/solidProfile#SolidProfileShape",shape:P,context:o,type:a,childContexts:[c]}),S=(new x.Shape({id:"https://shaperepo.com/schemas/solidProfile#EmailShape",shape:P,context:c,type:r}),i.a.createContext(null)),N=t(182),E=t.n(N),_=t(18),y=function(e){var n=e.name,t=e.label,a=e.placeholder,r=e.defaultValue,o=e.onChange;return Object(_.jsxs)("div",{className:E.a.section,children:[Object(_.jsx)(m.e,{className:E.a.label,fontWeight:"bold",children:t}),Object(_.jsx)(m.f,{css:"",name:n,placeholder:null!==a&&void 0!==a?a:t,defaultValue:r,onChange:o})]})},L=function(){var e,n=Object(s.useContext)(S),t=n.info,a=n.fetch,r=Object(s.useState)(null),o=Object(u.a)(r,2),c=o[0],i=o[1],l=Object(s.useState)(null),d=Object(u.a)(l,2),h=d[0],j=d[1],b=t.webId;if(Object(s.useEffect)((function(){I.fetcher._fetch=a,I.findOne({from:b,where:{id:b}}).then((function(e){var n=e.data,t=e.errors;t?j(t[0]):n&&i(n)}))}),[b,a]),h)return Object(_.jsx)("div",{children:h});if(!c)return Object(_.jsx)("div",{children:"Loading..."});var w=c,O=w.name,x=w.hasEmail;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(m.e,{fontSize:"2em",marginBottom:"16px",children:["Hello, ",O]}),Object(_.jsx)(f.b,{initialValues:{name:O,email:null===x||void 0===x||null===(e=x.value)||void 0===e?void 0:e.replace("mailto:","")},onSubmit:function(){var e=Object(v.a)(p.a.mark((function e(n){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug(n),e.next=3,I.update({doc:b,data:{id:b,name:n.name,hasEmail:{value:n.email&&"mailto:"+n.email}}});case 3:t=e.sent,console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,t=e.handleChange,a=e.dirty,r=e.touched;return Object(_.jsxs)(f.a,{children:[Object(_.jsx)(y,{label:"Name",name:"name",defaultValue:n.name,onChange:t}),Object(_.jsx)(y,{label:"Email",name:"email",defaultValue:n.email,onChange:t}),Object(_.jsxs)("div",{className:E.a.buttons,children:[Object(_.jsx)(m.c,{css:!0,marginRight:"8px",onClick:function(){g.a.logout().then((function(){window.location.reload()}))},children:"Logout"}),Object(_.jsx)(m.d,{css:!0,disabled:!(a||!r),name:"submit",children:"Submit"})]})]})}})]})};var C=function(){var e=Object(s.useState)(null),n=Object(u.a)(e,2),t=n[0],a=n[1],r=Object(s.useState)(!1),o=Object(u.a)(r,2),c=o[0],i=o[1];return Object(s.useEffect)((function(){i(!0),Object(h.handleIncomingRedirect)({restorePreviousSession:!0}).then((function(){var e=Object(h.getDefaultSession)();e.info.isLoggedIn?a(e):a(null),i(!1)}))}),[]),c?Object(_.jsx)("div",{className:b.a.main,children:"Loading..."}):Object(_.jsx)(m.g,{children:Object(_.jsx)("div",{className:b.a.main,children:Object(_.jsx)(m.a,{children:t&&t.info.webId?Object(_.jsx)(S.Provider,{value:t,children:Object(_.jsx)(L,{})}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(f.b,{initialValues:{webId:""},onSubmit:function(e){var n=e.webId;if(n){var t=new URL(n);Object(h.login)({oidcIssuer:t.protocol+t.host})}},children:function(e){var n=e.values,t=e.handleChange;return Object(_.jsxs)(f.a,{children:[Object(_.jsx)(y,{label:"Enter your WebId or Identity Provider url to login",placeholder:"WebId or Identity Provider url",name:"webId",defaultValue:n.webId,onChange:t}),Object(_.jsx)(m.b,{css:!0,name:"submit",className:b.a.login,children:"Login"})]})}})})})})})};d.a.render(Object(_.jsx)(i.a.StrictMode,{children:Object(_.jsx)(C,{})}),document.getElementById("root"))},182:function(e,n,t){e.exports={main:"Profile_main__2yfI1",section:"Profile_section__1vp1e",label:"Profile_label__3Zjy8",buttons:"Profile_buttons__23uOG"}},237:function(e,n,t){e.exports={main:"App_main__3ZkGI",login:"App_login__jFnyu"}},268:function(e,n){},557:function(e,n,t){},740:function(e,n){},776:function(e,n){},778:function(e,n){},788:function(e,n){},790:function(e,n){},818:function(e,n){},819:function(e,n){},824:function(e,n){},826:function(e,n){},833:function(e,n){},852:function(e,n){},914:function(e,n){},921:function(e,n){},931:function(e,n){},932:function(e,n){},935:function(e,n,t){var a={"./N3Lexer":313,"./N3Lexer.js":313,"./N3Parser":314,"./N3Parser.js":314,"./N3Store":499,"./N3Store.js":499,"./N3StreamParser":500,"./N3StreamParser.js":500,"./N3StreamWriter":501,"./N3StreamWriter.js":501,"./N3Util":315,"./N3Util.js":315,"./N3Writer":316,"./N3Writer.js":316};function r(e){var n=o(e);return t(n)}function o(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=935}},[[1104,1,2]]]);
//# sourceMappingURL=main.fd27d3d2.chunk.js.map