(this["webpackJsonpshex-codegen-demo"]=this["webpackJsonpshex-codegen-demo"]||[]).push([[0],{144:function(e,n,t){e.exports={main:"Profile_main__2yfI1",section:"Profile_section__1vp1e",label:"Profile_label__3Zjy8",buttons:"Profile_buttons__23uOG"}},224:function(e,n,t){e.exports={main:"App_main__3ZkGI",login:"App_login__jFnyu"}},363:function(e,n,t){},380:function(e,n){},387:function(e,n){},397:function(e,n){},398:function(e,n){},403:function(e,n,t){var a={"./N3Lexer":182,"./N3Lexer.js":182,"./N3Parser":183,"./N3Parser.js":183,"./N3Store":246,"./N3Store.js":246,"./N3StreamParser":247,"./N3StreamParser.js":247,"./N3StreamWriter":252,"./N3StreamWriter.js":252,"./N3Util":184,"./N3Util.js":184,"./N3Writer":188,"./N3Writer.js":188};function r(e){var n=o(e);return t(n)}function o(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=403},404:function(e,n){},406:function(e,n){},495:function(e,n){},497:function(e,n){},525:function(e,n){},526:function(e,n){},531:function(e,n){},533:function(e,n){},540:function(e,n){},559:function(e,n){},598:function(e,n){},699:function(e,n){},701:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=701},707:function(e,n,t){"use strict";t.r(n);var a,r,o,c,s=t(0),i=t.n(s),l=t(166),d=t.n(l),u=(t(363),t(21)),m=t(117),f=t(63),h=t(142),w=t.n(h),p=t(224),b=t.n(p),j=t(20),v=t.n(j),g=t(354),x=t(225);!function(e){e.SchemPerson="http://schema.org/Person",e.FoafPerson="http://xmlns.com/foaf/0.1/Person"}(a||(a={})),function(e){e.Dom="http://www.w3.org/2006/vcard/ns#Dom",e.Home="http://www.w3.org/2006/vcard/ns#Home",e.Isdn="http://www.w3.org/2006/vcard/ns#ISDN",e.Internet="http://www.w3.org/2006/vcard/ns#Internet",e.Intl="http://www.w3.org/2006/vcard/ns#Intl",e.Label="http://www.w3.org/2006/vcard/ns#Label",e.Parcel="http://www.w3.org/2006/vcard/ns#Parcel",e.Postal="http://www.w3.org/2006/vcard/ns#Postal",e.Pref="http://www.w3.org/2006/vcard/ns#Pref",e.Work="http://www.w3.org/2006/vcard/ns#Work",e.X400="http://www.w3.org/2006/vcard/ns#X400"}(r||(r={})),function(e){e.type="rdf:type",e.hasEmail="vcard:hasEmail",e.name="foaf:name"}(o||(o={})),function(e){e.type="rdf:type",e.value="vcard:value"}(c||(c={}));var O='\nPREFIX srs: <https://shaperepo.com/schemas/solidProfile#>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX schem: <http://schema.org/>\nPREFIX vcard: <http://www.w3.org/2006/vcard/ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nsrs:SolidProfileShape EXTRA a {\n  a [ schem:Person ]\n    // rdfs:comment  "Defines the node as a Person" ;\n  a [ foaf:Person ]\n    // rdfs:comment  "Defines the node as a Person" ;\n  vcard:hasEmail @srs:EmailShape *\n    // rdfs:comment  "The person\'s email." ;\n  foaf:name xsd:string ?\n    // rdfs:comment  "An alternate way to define a person\'s name" ;\n}\n\nsrs:EmailShape EXTRA a {\n  a [\n    vcard:Dom\n    vcard:Home\n    vcard:ISDN\n    vcard:Internet\n    vcard:Intl\n    vcard:Label\n    vcard:Parcel\n    vcard:Postal\n    vcard:Pref\n    vcard:Work\n    vcard:X400\n  ] ?\n    // rdfs:comment  "The type of email." ;\n  vcard:value IRI\n    // rdfs:comment  "The value of an email as a mailto link (Example <mailto:jane@example.com>)" ;\n}\n',P=new x.Shape({id:"https://shaperepo.com/schemas/solidProfile#SolidProfileShape",shape:O,context:o,type:a,childContexts:[c]}),I=(new x.Shape({id:"https://shaperepo.com/schemas/solidProfile#EmailShape",shape:O,context:c,type:r}),t(144)),S=t.n(I),E=t(13),N=function(e){var n=e.name,t=e.label,a=e.placeholder,r=e.defaultValue,o=e.onChange;return Object(E.jsxs)("div",{className:S.a.section,children:[Object(E.jsx)(f.e,{className:S.a.label,fontWeight:"bold",children:t}),Object(E.jsx)(f.f,{css:"",name:n,placeholder:null!==a&&void 0!==a?a:t,defaultValue:r,onChange:o})]})},_=function(e){var n,t=e.webId,a=Object(s.useState)(null),r=Object(u.a)(a,2),o=r[0],c=r[1],i=Object(s.useState)(null),l=Object(u.a)(i,2),d=l[0],h=l[1];if(Object(s.useEffect)((function(){P.findOne({from:t,where:{id:t}}).then((function(e){var n=e.data,t=e.errors;t?h(t[0]):n&&c(n)}))}),[t]),d)return Object(E.jsx)("div",{children:d});if(!o)return Object(E.jsx)("div",{children:"Loading..."});var p=o,b=p.name,j=p.hasEmail;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(f.e,{fontSize:"2em",marginBottom:"16px",children:["Hello, ",b]}),Object(E.jsx)(m.b,{initialValues:{name:b,email:null===j||void 0===j||null===(n=j.value)||void 0===n?void 0:n.replace("mailto:","")},onSubmit:function(){var e=Object(g.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug(n),e.next=3,P.update({doc:t,data:{id:t,name:n.name,hasEmail:{value:n.email&&"mailto:"+n.email}}});case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,t=e.handleChange,a=e.dirty,r=e.touched;return Object(E.jsxs)(m.a,{children:[Object(E.jsx)(N,{label:"Name",name:"name",defaultValue:n.name,onChange:t}),Object(E.jsx)(N,{label:"Email",name:"email",defaultValue:n.email,onChange:t}),Object(E.jsxs)("div",{className:S.a.buttons,children:[Object(E.jsx)(f.c,{css:!0,marginRight:"8px",onClick:function(){w.a.logout().then((function(){window.location.reload()}))},children:"Logout"}),Object(E.jsx)(f.d,{css:!0,disabled:!(a||!r),name:"submit",children:"Submit"})]})]})}})]})};var y=function(){var e=Object(s.useState)(""),n=Object(u.a)(e,2),t=n[0],a=n[1];return Object(s.useEffect)((function(){w.a.currentSession().then((function(e){console.debug(e),e&&e.webId?a(e.webId):a("")}))}),[]),Object(E.jsx)(f.g,{children:Object(E.jsx)("div",{className:b.a.main,children:Object(E.jsx)(f.a,{children:t?Object(E.jsx)(_,{webId:t}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(m.b,{initialValues:{webId:""},onSubmit:function(e){var n=e.webId;if(n){var t=new URL(n);w.a.login(t.protocol+t.host)}},children:function(e){var n=e.values,t=e.handleChange;return Object(E.jsxs)(m.a,{children:[Object(E.jsx)(N,{label:"Enter your WebId or Identity Provider url to login",placeholder:"WebId or Identity Provider url",name:"webId",defaultValue:n.webId,onChange:t}),Object(E.jsx)(f.b,{css:!0,name:"submit",className:b.a.login,children:"Login"})]})}})})})})})};d.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(y,{})}),document.getElementById("root"))}},[[707,1,2]]]);
//# sourceMappingURL=main.dd113c6c.chunk.js.map